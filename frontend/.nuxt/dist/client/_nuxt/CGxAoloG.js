import{_ as U,a as Y,b as G,c as Q,d as X,e as J}from"./DA0najWh.js";import{m as E,c as l,o as c,a as e,b as m,d as I,z as L,A as g,v as r,t as f,$ as Z,i as tt,a0 as et,N as st,r as C,j as ot,X as R,l as v,f as rt,F as P,x as S}from"./3_Zv-WpX.js";import{_ as at}from"./B45Bm2EN.js";import{c as it}from"./CWHvRTZ_.js";import{_ as nt}from"./DX0-7ZgJ.js";import{_ as lt}from"./DvOPuple.js";import{u as ct}from"./BjgCHudc.js";const pt={},dt={class:"tp-shop-sidebar mr-10"},ut={class:"tp-shop-widget mb-35"},_t={class:"tp-shop-widget mb-50"},mt={class:"tp-shop-widget mb-50"},gt={class:"tp-shop-widget mb-50"};function ht(x,t){const h=U,a=Y,$=G,d=Q;return c(),l("div",dt,[e("div",ut,[t[0]||(t[0]=e("h3",{class:"tp-shop-widget-title no-border"},"Fiyat Filtresi",-1)),m(h)]),e("div",_t,[t[1]||(t[1]=e("h3",{class:"tp-shop-widget-title"},"Ürün Durumu",-1)),m(a)]),e("div",mt,[t[2]||(t[2]=e("h3",{class:"tp-shop-widget-title"},"Kategoriler",-1)),m($)]),e("div",gt,[t[3]||(t[3]=e("h3",{class:"tp-shop-widget-title"},"En Çok Beğenilen Ürünler",-1)),m(d)])])}const yt=E(pt,[["render",ht]]),vt={key:0,class:"tp-shop-active-filters mb-30"},ft={class:"tp-shop-active-filters-wrapper"},bt={class:"tp-shop-active-filters-list d-flex flex-wrap gap-2"},kt={key:0,class:"tp-shop-active-filter-item"},$t={class:"tp-shop-active-filter-text"},qt={key:1,class:"tp-shop-active-filter-item"},xt={class:"tp-shop-active-filter-text"},wt={key:2,class:"tp-shop-active-filter-item"},Ft={class:"tp-shop-active-filter-text"},Ct={key:3,class:"tp-shop-active-filter-item"},Pt={class:"tp-shop-active-filter-text"},St={key:4,class:"tp-shop-active-filter-item"},Mt={class:"tp-shop-active-filter-text"},Nt=I({__name:"active-filters",props:{activeFilters:{}},emits:["removeFilter","clearAll"],setup(x,{emit:t}){const h=x,a=t,$=L(()=>Object.values(h.activeFilters).some(i=>i!=null&&i!=="")),d=i=>{a("removeFilter",i)},M=()=>{a("clearAll")},b=i=>({"on-sale":"İndirimli","in-stock":"Stokta Var"})[i]||i,k=i=>({male:"Erkek",female:"Kadın",unisex:"Unisex"})[i]||i;return(i,n)=>r($)?(c(),l("div",vt,[e("div",ft,[n[10]||(n[10]=e("h4",{class:"tp-shop-active-filters-title"},"Aktif Filtreler:",-1)),e("div",bt,[i.activeFilters.category?(c(),l("div",kt,[e("span",$t,f(i.activeFilters.category),1),e("button",{onClick:n[0]||(n[0]=y=>d("category")),class:"tp-shop-active-filter-remove",type:"button"},n[5]||(n[5]=[e("i",{class:"fa-solid fa-xmark"},null,-1)]))])):g("",!0),i.activeFilters.brand?(c(),l("div",qt,[e("span",xt,"Marka: "+f(i.activeFilters.brand),1),e("button",{onClick:n[1]||(n[1]=y=>d("brand")),class:"tp-shop-active-filter-remove",type:"button"},n[6]||(n[6]=[e("i",{class:"fa-solid fa-xmark"},null,-1)]))])):g("",!0),i.activeFilters.priceRange?(c(),l("div",wt,[e("span",Ft,f(i.activeFilters.priceRange),1),e("button",{onClick:n[2]||(n[2]=y=>d("price")),class:"tp-shop-active-filter-remove",type:"button"},n[7]||(n[7]=[e("i",{class:"fa-solid fa-xmark"},null,-1)]))])):g("",!0),i.activeFilters.status?(c(),l("div",Ct,[e("span",Pt,f(b(i.activeFilters.status)),1),e("button",{onClick:n[3]||(n[3]=y=>d("status")),class:"tp-shop-active-filter-remove",type:"button"},n[8]||(n[8]=[e("i",{class:"fa-solid fa-xmark"},null,-1)]))])):g("",!0),i.activeFilters.gender?(c(),l("div",St,[e("span",Mt,f(k(i.activeFilters.gender)),1),e("button",{onClick:n[4]||(n[4]=y=>d("gender")),class:"tp-shop-active-filter-remove",type:"button"},n[9]||(n[9]=[e("i",{class:"fa-solid fa-xmark"},null,-1)]))])):g("",!0),e("div",{class:"tp-shop-active-filter-clear"},[e("button",{onClick:M,class:"tp-shop-active-filter-clear-btn",type:"button"}," Tüm Filtreleri Temizle ")])])])])):g("",!0)}}),Tt=E(Nt,[["__scopeId","data-v-6231fd83"]]),Vt=it(nt),At={class:"row"},Bt={key:0,class:"col-xl-3 col-lg-4"},Wt={class:"tp-shop-main-wrapper"},Rt={class:"tp-shop-top mb-45"},Et={class:"row"},It={class:"col-xl-6"},Lt={class:"tp-shop-top-left d-flex align-items-center"},jt={class:"tp-shop-top-tab tp-tab"},zt={class:"nav nav-tabs",id:"productTab",role:"tablist"},Dt={class:"nav-item",role:"presentation"},Ht={class:"nav-item",role:"presentation"},Kt={class:"tp-shop-top-result"},Ot={class:"col-xl-6"},Ut={class:"tp-shop-items-wrapper tp-shop-item-primary"},Yt={key:0,class:"text-center py-5"},Gt={key:1,class:"alert alert-danger",role:"alert"},Qt={key:2},Xt={class:"row infinite-container"},Jt={key:0,class:"col-12 text-center py-5"},Zt={key:3},te={class:"row"},ee={class:"col-xl-12"},se={key:0,class:"text-center py-5"},oe={class:"tp-shop-pagination mt-20"},re={key:0,class:"tp-pagination"},ae={key:1,class:"tp-pagination"},ie={"aria-label":"Shop pagination"},ne={class:"pagination justify-content-center"},le=["onClick"],ce={key:1,class:"col-xl-3 col-lg-4"},ve=I({__name:"shop-area",props:{list_style:{type:Boolean},full_width:{type:Boolean},shop_1600:{type:Boolean},shop_right_side:{type:Boolean},shop_no_side:{type:Boolean}},setup(x){const t=Z(),h=tt(),a=et(),$=st(),d=ct(),b=C(x.list_style?"list":"grid");let k=C(0),i=C(20);const n=L(()=>{const o={};let s="";if(t.query.category||t.query.subCategory?s=t.query.category||t.query.subCategory:t.params.slug&&(t.path.startsWith("/kategori/")||t.path.startsWith("/alt-kategori/"))&&(s=t.params.slug),s&&d.categories.length>0){const p=d.categories.find(_=>_.slug===s);p?o.category=p.name:o.category=s.replace(/-/g," ").replace(/\b\w/g,_=>_.toUpperCase())}return t.query.brand&&(o.brand=t.query.brand),t.query.minPrice&&t.query.maxPrice&&(o.priceRange=`₺${t.query.minPrice} - ₺${t.query.maxPrice}`),t.query.status&&(o.status=t.query.status),t.query.gender&&(o.gender=t.query.gender),o}),y=async()=>{const o={per_page:20,currency:"TRY"};if(t.query.category){const s=t.query.category,p=d.categories.find(_=>_.slug===s);p?o.category_id=p.id:o.search=s.replace(/-/g," ")}if(t.query.subCategory){const s=t.query.subCategory,p=d.categories.find(_=>_.slug===s);p?o.category_id=p.id:o.search=s.replace(/-/g," ")}if(t.params.slug&&(t.path.startsWith("/kategori/")||t.path.startsWith("/alt-kategori/"))){const s=t.params.slug,p=d.categories.find(_=>_.slug===s);p?o.category_id=p.id:o.search=s.replace(/-/g," ")}if(t.query.minPrice&&t.query.maxPrice&&(o.min_price=Number(t.query.minPrice),o.max_price=Number(t.query.maxPrice)),t.query.status&&(t.query.status==="on-sale"?o.featured=1:t.query.status==="in-stock"&&(o.in_stock=1)),t.query.brand&&(o.brand=t.query.brand),t.query.sort)switch(t.query.sort){case"low-to-high":o.sort="price",o.order="asc";break;case"high-to-low":o.sort="price",o.order="desc";break;case"new-added":o.sort="created_at",o.order="desc";break;case"on-sale":o.featured=1,o.sort="price",o.order="asc";break}await a.fetchProducts(o)},j=(o,s,p)=>{k.value=s,i.value=p};function N(o){b.value=o}const z=o=>{const s={...t.query};switch(o){case"category":if(delete s.category,delete s.subCategory,t.params.slug&&(t.path.startsWith("/kategori/")||t.path.startsWith("/alt-kategori/"))){h.push({path:"/shop",query:s});return}break;case"brand":delete s.brand;break;case"price":delete s.minPrice,delete s.maxPrice;break;case"status":delete s.status;break;case"gender":delete s.gender;break}h.push({path:t.path,query:s})},D=()=>{t.params.slug&&(t.path.startsWith("/kategori/")||t.path.startsWith("/alt-kategori/"))?h.push({path:"/shop",query:{}}):h.push({path:t.path,query:{}})},w=async o=>{if(o<1||o>a.meta.last_page)return;const s={page:o,per_page:20,currency:"TRY"};if(t.query.minPrice&&t.query.maxPrice&&(s.min_price=Number(t.query.minPrice),s.max_price=Number(t.query.maxPrice)),t.query.status&&(t.query.status==="on-sale"?s.featured=1:t.query.status==="in-stock"&&(s.in_stock=1)),t.query.brand&&(s.brand=t.query.brand),t.query.sort)switch(t.query.sort){case"low-to-high":s.sort="price",s.order="asc";break;case"high-to-low":s.sort="price",s.order="desc";break;case"new-added":s.sort="created_at",s.order="desc";break;case"on-sale":s.featured=1,s.sort="price",s.order="asc";break}await a.fetchProducts(s)},H=()=>{const o=a.meta.current_page,s=a.meta.last_page,p=[],_=Math.max(1,o-2),F=Math.min(s,o+2);for(let q=_;q<=F;q++)p.push(q);return p};return ot(async()=>{!d.hasCategories&&!d.isLoading&&await d.fetchCategoriesWithChildren(),await y()}),R(()=>t.query,async()=>{var o;await y(),k.value=0,i.value=Math.min(20,((o=a.products)==null?void 0:o.length)||0)},{deep:!0}),R(()=>a.products,o=>{o&&(i.value=Math.min(20,o.length))}),(o,s)=>{var V,A,B,W;const p=yt,_=Tt,F=X,q=J,K=at,T=Vt,O=lt;return c(),l("section",{class:v(`tp-shop-area pb-120 ${o.full_width?"tp-shop-full-width-padding":""}`)},[e("div",{class:v(`${o.full_width?"container-fluid":o.shop_1600?"container-shop":"container"}`)},[e("div",At,[!o.shop_right_side&&!o.shop_no_side?(c(),l("div",Bt,[m(p)])):g("",!0),e("div",{class:v(`${o.shop_no_side?"col-xl-12":"col-xl-9 col-lg-8"}`)},[e("div",Wt,[m(_,{"active-filters":r(n),onRemoveFilter:z,onClearAll:D},null,8,["active-filters"]),e("div",Rt,[e("div",Et,[e("div",It,[e("div",Lt,[e("div",jt,[e("ul",zt,[e("li",Dt,[e("button",{class:v(`nav-link ${r(b)==="grid"?"active":""}`),onClick:s[0]||(s[0]=u=>N("grid"))},[m(F)],2)]),e("li",Ht,[e("button",{class:v(`nav-link ${r(b)==="list"?"active":""}`),onClick:s[1]||(s[1]=u=>N("list"))},[m(q)],2)])])]),e("div",Kt,[e("p",null,f(r(a).meta.total>0?`${r(k)+1}–${Math.min(r(i),r(a).meta.total)} arası gösteriliyor, toplam ${r(a).meta.total} sonuç`:"Sonuç bulunamadı"),1)])])]),e("div",Ot,[m(K,{onHandleSelectFilter:r($).handleSelectFilter},null,8,["onHandleSelectFilter"])])])]),e("div",Ut,[r(a).isLoading?(c(),l("div",Yt,s[4]||(s[4]=[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),e("p",{class:"mt-2"},"Ürünler yükleniyor...",-1)]))):r(a).error?(c(),l("div",Gt,[rt(f(r(a).error)+" ",1),e("button",{onClick:y,class:"btn btn-sm btn-outline-danger ms-2"}," Tekrar Dene ")])):r(b)==="grid"?(c(),l("div",Qt,[e("div",Xt,[(c(!0),l(P,null,S((V=r(a).products)==null?void 0:V.slice(r(k),r(i)),u=>(c(),l("div",{key:u.id,class:"col-xl-4 col-md-6 col-sm-6 infinite-item"},[m(T,{item:u,spacing:!0},null,8,["item"])]))),128)),(A=r(a).products)!=null&&A.length?g("",!0):(c(),l("div",Jt,s[5]||(s[5]=[e("p",null,"Ürün bulunamadı.",-1)])))])])):r(b)==="list"?(c(),l("div",Zt,[e("div",te,[e("div",ee,[(c(!0),l(P,null,S((B=r(a).products)==null?void 0:B.slice(r(k),r(i)),u=>(c(),l("div",{key:u.id},[m(T,{item:u,"list-style":!0},null,8,["item"])]))),128)),(W=r(a).products)!=null&&W.length?g("",!0):(c(),l("div",se,s[6]||(s[6]=[e("p",null,"No products found.",-1)])))])])])):g("",!0)]),e("div",oe,[r(a).products&&r(a).products.length>20?(c(),l("div",re,[m(O,{"items-per-page":20,data:r(a).products||[],onHandlePaginate:j},null,8,["data"])])):g("",!0),r(a).meta&&r(a).meta.last_page>1?(c(),l("div",ae,[e("nav",ie,[e("ul",ne,[e("li",{class:v(`page-item ${r(a).meta.current_page===1?"disabled":""}`)},[e("button",{onClick:s[2]||(s[2]=u=>w(r(a).meta.current_page-1)),class:"page-link"},"Previous")],2),(c(!0),l(P,null,S(H(),u=>(c(),l("li",{key:u,class:v(`page-item ${r(a).meta.current_page===u?"active":""}`)},[e("button",{onClick:pe=>w(u),class:"page-link"},f(u),9,le)],2))),128)),e("li",{class:v(`page-item ${r(a).meta.current_page===r(a).meta.last_page?"disabled":""}`)},[e("button",{onClick:s[3]||(s[3]=u=>w(r(a).meta.current_page+1)),class:"page-link"},"Next")],2)])])])):g("",!0)])])],2),o.shop_right_side&&!o.shop_no_side?(c(),l("div",ce,[m(p)])):g("",!0)])],2)],2)}}});export{ve as _};
