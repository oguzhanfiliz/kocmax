import{u as V,c as E,a as u,_ as C}from"./CBD6NunU.js";import{_ as F,a as G}from"./G7j4fJc3.js";import{d as L,h as N,i as $,r as q,V as r,c as l,o as t,v as o,a as e,b as p,E as g,s as b,e as R,w as j,f as z}from"./3_Zv-WpX.js";const A={class:"tp-login-input-wrapper"},I={class:"tp-login-input-box"},M={class:"tp-login-input"},T={class:"tp-login-input-box"},Y={class:"p-relative"},D={class:"tp-login-input"},H=["type"],J={class:"tp-login-input-eye",id:"password-show-toggle"},K={class:"tp-login-suggetions d-sm-flex align-items-center justify-content-between mb-20"},O={class:"tp-login-forgot"},Q={class:"tp-login-bottom"},U=["disabled"],W={key:0},X={key:1},ts=L({__name:"login-form",setup(Z){const a=N(),w=$();let i=q(!1);const{errors:d,handleSubmit:f,defineInputBinds:c,resetForm:h}=V({validationSchema:E({email:u().required().email().label("Email"),password:u().required().min(6).label("Password")})}),_=f(async n=>{try{const s=await a.login({email:n.email,password:n.password,device_name:"web_browser"});s!=null&&s.success?(r.success(s.message||"Giriş başarılı!"),h(),await w.push("/")):r.error((s==null?void 0:s.message)||"Giriş başarısız")}catch(s){r.error((s==null?void 0:s.message)||"Bir hata oluştu")}}),v=()=>{i.value=!i.value},y=c("email"),x=c("password");return(n,s)=>{const m=C,k=F,B=G,P=R;return t(),l("form",{onSubmit:s[0]||(s[0]=(...S)=>o(_)&&o(_)(...S))},[e("div",A,[e("div",I,[e("div",M,[e("input",g({id:"email",type:"email",placeholder:"shofy@mail.com"},o(y)),null,16)]),s[1]||(s[1]=e("div",{class:"tp-login-input-title"},[e("label",{for:"email"},"Your Email")],-1)),p(m,{msg:o(d).email},null,8,["msg"])]),e("div",T,[e("div",Y,[e("div",D,[e("input",g({id:"tp_password",type:o(i)?"text":"password",name:"password",placeholder:"Min. 6 character"},o(x)),null,16,H)]),e("div",J,[e("span",{class:"open-eye",onClick:v},[o(i)?(t(),b(k,{key:0})):(t(),b(B,{key:1}))])]),s[2]||(s[2]=e("div",{class:"tp-login-input-title"},[e("label",{for:"tp_password"},"Password")],-1))]),p(m,{msg:o(d).password},null,8,["msg"])])]),e("div",K,[s[4]||(s[4]=e("div",{class:"tp-login-remeber"},[e("input",{id:"remeber",type:"checkbox"}),e("label",{for:"remeber"},"Remember me")],-1)),e("div",O,[p(P,{href:"/forgot"},{default:j(()=>s[3]||(s[3]=[z("Forgot Password?",-1)])),_:1,__:[3]})])]),e("div",Q,[e("button",{type:"submit",class:"tp-login-btn w-100",disabled:o(a).isLoading},[o(a).isLoading?(t(),l("span",W,"Giriş yapılıyor...")):(t(),l("span",X,"Login"))],8,U)])],32)}}});export{ts as _};
